import { GraphicProps } from './types';

export function GroupChatGraphic({
  size = 300,
  className = '',
  loading = false,
  outerColor = 'fill-graphic-accent',
  innerColor = 'fill-card',
  detailColor = 'fill-foreground',
  scale = 2.0,
}: GraphicProps) {
  // Center of the original viewBox (393, 414)
  const centerX = 196.5;
  const centerY = 207;
  return (
    <div
      className={`relative w-full flex items-center justify-center py-8 ${className}`}
    >
      {/* Glow effect background */}
      <div className="absolute inset-0 flex items-center justify-center">
        <div
          className={`rounded-full blur-3xl ${
            loading ? 'animate-pulse-loading' : 'animate-pulse-slow'
          } bg-black/10 dark:bg-white/5`}
          style={{
            width: `${size}px`,
            height: `${size}px`,
          }}
        />
      </div>

      <svg
        viewBox="0 0 393 414"
        className={`${
          loading ? 'animate-float-loading' : 'animate-float'
        } text-gray-900 dark:text-white drop-shadow-[0_0_18px_rgba(0,0,0,0.12)] dark:drop-shadow-[0_0_30px_rgba(255,255,255,0.3)] overflow-visible`}
        style={{
          width: `${size}px`,
          height: `${size}px`,
          overflow: 'visible',
        }}
        xmlns="http://www.w3.org/2000/svg"
      >
        <g className={loading ? 'animate-tilt-loading' : 'animate-tilt'}>
          <g
            transform={`translate(${centerX}, ${centerY}) scale(${scale}) translate(-${centerX}, -${centerY})`}
          >
            {/* Left chat bubble - outer body */}
            <path
              d="M183.311 193.756C170.738 182.576 152.87 176.9 130.21 176.9C118.888 176.9 108.741 178.315 99.8451 181.138C90.9414 183.954 83.2883 188.17 76.9381 193.771C64.3726 204.869 58 221.051 58 241.869C58 254.285 60.3139 265.091 64.8668 273.964C69.3674 282.733 76.1893 289.682 85.1753 294.61L86.9351 295.576V304.442L86.8303 306.741C90.6194 305.61 95.397 305.049 101.283 305.049H130.21C152.878 305.049 170.753 299.485 183.34 288.514C195.764 277.671 202.069 261.975 202.069 241.869C202.069 221.763 195.756 204.854 183.311 193.756ZM171.501 281.131C162.223 289.241 148.332 293.344 130.21 293.344C112.089 293.344 98.1677 289.241 88.7847 281.138C79.237 272.916 74.407 260.073 74.407 242.962V240.064C74.407 222.946 79.252 210.088 88.7772 201.889C98.1527 193.779 112.096 189.675 130.21 189.675C148.325 189.675 162.223 193.786 171.501 201.904C180.907 210.133 185.684 222.976 185.684 240.064V242.962C185.684 260.043 180.907 272.886 171.501 281.131Z"
              className={`${outerColor} opacity-90`}
            />

            {/* Left chat bubble - inner face */}
            <path
              d="M171.501 201.904C162.222 193.786 148.332 189.675 130.21 189.675C112.088 189.675 98.1519 193.779 88.7764 201.889C79.2512 210.088 74.4062 222.946 74.4062 240.064V242.962C74.4062 260.073 79.2363 272.916 88.7839 281.138C98.1669 289.241 112.103 293.344 130.21 293.344C148.317 293.344 162.222 289.241 171.501 281.131C180.906 272.886 185.684 260.043 185.684 242.962V240.064C185.684 222.976 180.906 210.133 171.501 201.904ZM98.9831 259.976C91.5247 259.976 85.4816 253.933 85.4816 246.482C85.4816 239.031 91.5247 232.98 98.9831 232.98C106.442 232.98 112.477 239.023 112.477 246.482C112.477 253.94 106.434 259.976 98.9831 259.976ZM134.658 259.976C127.199 259.976 121.156 253.933 121.156 246.482C121.156 239.031 127.199 232.98 134.658 232.98C142.116 232.98 148.152 239.023 148.152 246.482C148.152 253.94 142.109 259.976 134.658 259.976Z"
              className={innerColor}
            />

            {/* Left bubble - right eye */}
            <ellipse
              cx="134.654"
              cy="246.478"
              rx="13.498"
              ry="13.498"
              className={detailColor}
            />

            {/* Left bubble - left eye */}
            <ellipse
              cx="98.9802"
              cy="246.478"
              rx="13.4978"
              ry="13.498"
              className={detailColor}
            />

            {/* Right chat bubble - outer body */}
            <path
              d="M180.299 119.837C195.916 105.95 218.109 98.8999 246.254 98.8999C260.317 98.8999 272.92 100.658 283.97 104.164C295.029 107.662 304.535 112.898 312.423 119.855C328.03 133.64 335.945 153.74 335.945 179.597C335.945 195.018 333.071 208.44 327.416 219.462C321.826 230.354 313.353 238.985 302.191 245.105L300.006 246.305V257.318L300.136 260.173C295.429 258.769 289.495 258.071 282.184 258.071H246.254C218.099 258.071 195.897 251.16 180.262 237.534C164.831 224.066 157 204.571 157 179.597C157 154.623 164.841 133.621 180.299 119.837ZM194.967 228.363C206.491 238.436 223.745 243.533 246.254 243.533C268.763 243.533 286.054 238.436 297.708 228.372C309.567 218.16 315.566 202.208 315.566 180.955V177.355C315.566 156.093 309.549 140.123 297.717 129.938C286.072 119.865 268.754 114.768 246.254 114.768C223.754 114.768 206.491 119.874 194.967 129.957C183.285 140.179 177.351 156.13 177.351 177.355V180.955C177.351 202.171 183.285 218.123 194.967 228.363Z"
              className={`${outerColor} opacity-90`}
            />

            {/* Right chat bubble - inner face */}
            <path
              d="M194.967 129.957C206.491 119.874 223.745 114.768 246.254 114.768C268.763 114.768 286.072 119.865 297.717 129.938C309.549 140.123 315.566 156.093 315.566 177.356V180.955C315.566 202.208 309.567 218.16 297.708 228.373C286.054 238.436 268.744 243.533 246.254 243.533C223.764 243.533 206.491 238.436 194.967 228.363C183.285 218.123 177.351 202.171 177.351 180.955V177.356C177.351 156.13 183.285 140.179 194.967 129.957ZM285.04 202.087C294.304 202.087 301.81 194.581 301.81 185.327C301.81 176.072 294.304 168.557 285.04 168.557C275.776 168.557 268.279 176.063 268.279 185.327C268.279 194.591 275.785 202.087 285.04 202.087ZM240.729 202.087C249.993 202.087 257.499 194.581 257.499 185.327C257.499 176.072 249.993 168.557 240.729 168.557C231.465 168.557 223.968 176.063 223.968 185.327C223.968 194.591 231.474 202.087 240.729 202.087Z"
              className={innerColor}
            />

            {/* Right bubble - large white circle (eye area) */}
            <ellipse
              cx="284.5"
              cy="185.4"
              rx="21.5"
              ry="21.5"
              className={innerColor}
            />

            {/* Right bubble - left eye circle */}
            <ellipse
              cx="240.7345"
              cy="185.3215"
              rx="16.7655"
              ry="16.7655"
              className={innerColor}
            />

            {/* Right bubble - right eye detail */}
            <ellipse
              cx="253.2955"
              cy="196.6655"
              rx="16.7655"
              ry="16.7655"
              className={detailColor}
            />

            {/* Right bubble - left eye detail */}
            <ellipse
              cx="208.7655"
              cy="196.6655"
              rx="16.7655"
              ry="16.7655"
              className={detailColor}
            />
          </g>
        </g>
      </svg>
    </div>
  );
}
